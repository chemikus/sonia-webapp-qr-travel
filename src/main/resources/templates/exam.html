<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8">
    <title>QR Travel</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Ostfalia, Rechenzentrum">
    <title>Poolraum Anmeldung</title>
    <!-- Bootstrap core CSS -->
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="/custom/css/starter-template.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/main.css">
  </head>

  <body>
    <div class="container">
      <img id="qrlogo" width="64" height="64" src="/image/logo.png" />

      <!-- confirmation message alert -->
      <div id="sendDataModalMessage" class="modal fade" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Vielen Dank.</h5>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
              <p>Folgenden Daten wurden gebucht.</p>
              <p id="valuesForMessage"></p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal" >OK</button>
            </div>
          </div>
        </div>
      </div>
      <!-- end confirmation message alert -->

      <div th:if="${room == null}">
        <div class="row">
          <div class="d-none d-md-block col-md-3 ">&nbsp;</div>
          <div class="col-xs-12 col-sm-12 col-md-6 mt-1" style="text-align: center;">
            <h1 id="roomtype" >Raum-PIN?</h1>
            <div th:if="${pin != null}">
              <h3 id="roompin" >Raum <span th:text="${pin}" /> nicht gefunden!</h3>
            </div>
          </div>
          <div class="d-none d-md-block col-md-3 ">&nbsp;</div>
        </div>

        <form th:action="@{/}" name="nopin" method="GET">
          <div class="form-row">
            <div class="d-none d-md-block col-md-3">&nbsp;</div>
            <div class="col-xs-12 col-sm-12 col-md-6 mt-1" style="text-align: center;">
              <input type="submit" value="Zurück" class="form-control input-lg text-center">
            </div>
          </div>
        </form>
      </div>

      <div th:if="${room != null}">
        <div class="row">
          <div class="d-none d-md-block col-md-3 ">&nbsp;</div>
          <div class="col-xs-12 col-sm-12 col-md-6 mt-1" style="text-align: center;">
            <h1 id="roomtype" ><span th:text="${room.roomType.description}" th:remove="tag" /></h1>
            <h3 id="roomdesc" ><span th:text="${room.description}" th:remove="tag" /></h3>
          </div>
          <div class="d-none d-md-block col-md-3 ">&nbsp;</div>
        </div>

        <form name="regForm" action="#" th:action="@{/exam}" th:object="${examForm}" method="POST" >
          <div class="form-row">
            <div class="d-none d-md-block col-md-3">&nbsp;</div>
            <div class="col-xs-12 col-sm-12 col-md-6 mt-1" style="text-align: center;">
              <div th:if="${#fields.hasErrors('pin')}" th:errors="*{pin}">Error</div>
              <input type="text" maxlength="6" size="35" th:field="*{pin}" readonly="true" class="form-control input-lg text-center" >
            </div>
          </div>

          <div class="form-row">
            <div class="d-none d-md-block col-md-3">&nbsp;</div>
            <div class="col-xs-12 col-sm-12 col-md-6 mt-1" style="text-align: center;">
              <div th:if="${#fields.hasErrors('location')}" th:errors="*{location}">Error</div>
              <input type="text" size="35" placeholder="Platz-Nr." th:field="*{location}" class="form-control input-lg text-center" >
            </div>
          </div>           

          <div class="form-row">
            <div class="d-none d-md-block col-md-3">&nbsp;</div>
            <div class="col-xs-12 col-sm-12 col-md-6 mt-1" style="text-align: center;">
              <div th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}">Error</div>
              <input type="text" maxlength="24" size="35" placeholder="Telefonnummer" th:field="*{phone}" class="form-control input-lg text-center" >
            </div>
          </div>
          
          <div class="form-row">
            <div class="d-none d-md-block col-md-3">&nbsp;</div>
            <div class="col-xs-12 col-sm-12 col-md-6 mt-1" style="text-align: center;">
              <div th:if="${errorMessage}"><br/><div th:text="${errorMessage}"></div></div>
              <div th:if="${#fields.hasErrors('userId')}" th:errors="*{userId}">Error</div>
              <input type="text" size="35" placeholder="Account-ID" th:field="*{userId}" class="form-control input-lg text-center" >
            </div>
          </div>
          
          <div class="form-row">
            <div class="d-none d-md-block col-md-3">&nbsp;</div>
            <div class="col-xs-12 col-sm-12 col-md-6 mt-1" style="text-align: center;">
              <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Error</div>
              <input type="password" size="35" placeholder="Passwort" id="password" name="password" th:value="${examForm.password}" class="form-control input-lg text-center" >
            </div>
          </div>
          
          <div class="form-row">
            <div class="d-none d-md-block col-md-3">&nbsp;</div>
            <div class="col-xs-12 col-sm-12 col-md-6 mt-4 " style="text-align: center">
              <button type="submit" class="text-white btn btn-primary btn-lg btn-block"><div th:text="${submitButtonText}" th:remove="tag" /></button>
            </div>
            <div class="d-none d-md-block col-md-3">&nbsp;</div>
          </div>
        </form>        
      </div>
    </div>

    <!-- Bootstrap core JavaScript
        ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <script src="/jquery/jquery-3.5.1.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script>
    <script>window.jQuery;</script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/custom/js/next-input.js"></script>
    <script src="/custom/js/submit.js"></script>

    <div th:if="${dataCommitted}">
      <script>
      showCommitMessage();
      </script>
    </div>

    <p id="footer"><font size="-1"><a href="imprint.html">Impressum</a> - <a href="privacypolicy.html">Datenschutzerklärung</a></font></p>
  </body>
</html>
